<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition>
	<h:form id="navForm">
	<h:messages id="loginMessages"/>
		<nav class="navbar navbar-default navbar-static-top" role="navigation"
			style="margin-bottom: 0">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">Ultimate Festival Organizer</a>
		</div>

		<!-- Top Menu -->
		
		<ul class="nav navbar-top-links navbar-right">
			<li jsf:rendered="#{not userBean.loggedIn}" class="button">
				<a jsf:id="showLogin" jsf:action="#{userBean.showLogin}"> 
					<f:ajax execute="@this"
						render="@form" /> Login
				</a>
			</li>
			<li jsf:rendered="#{userBean.loggedIn}" class="dropdown"><a href="#" class="dropdown-toggle"
				data-toggle="dropdown"><i class="fa fa-user"></i> #{userBean.userName} <b
					class="caret"></b></a>
				<ul class="dropdown-menu">
					<li>
						<a jsf:id="loggout" jsf:action="#{userBean.doLogout}">
							<i class="fa fa-fw fa-power-off"></i>
							<f:ajax execute="@this" render="@form" />
							LogOut
						</a>
					</li>
				</ul>
			</li>
		</ul>

		<!-- Sidebar Menu Items -->
		<div class="navbar-default sidebar" role="navigation">
			<div class="sidebar-nav navbar-collapse">
				<ul class="nav">
					<li class="active"><a jsf:id="nav_home" jsf:action="home" >Home</a></li>
					<li><a jsf:id="nav_veranstaltung" jsf:action="showPerformances?faces-redirect=true" >Veranstaltung</a></li>
					<li><a jsf:id="nav_artists" jsf:action="showArtists?faces-redirect=true" >Künstler</a></li>
				</ul>
			</div>
		</div>
		
		</nav>
		
		<!-- Login -->
		<div jsf:id="login" jsf:rendered="#{userBean.showLogginForm}"
			tabindex="-1" class="modal show" id="loginModal" role="dialog"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button  jsf:id="cancleLogin1" jsf:action="#{userBean.dismissLogin}"  class="close" aria-hidden="true" type="button"
							data-dismiss="modal" >×
							<f:ajax execute="@this" render="@form "/>
							</button>
						<h1 class="text-center">Login</h1>
					</div>
					<div class="modal-body">
<!-- 						<form class="form col-md-12 center-block"> -->
							<div class="form-group">
								<input jsf:id="userName" jsf:value="#{userBean.userName}" class="form-control input-lg" type="text"
									placeholder="Email"/>
							</div>
							<div class="form-group">
								<input jsf:id="password" jsf:value="#{userBean.password}" class="form-control input-lg" type="password"
									placeholder="Password"/>
							</div>
							<div class="form-group">
								<button jsf:id="loggin" jsf:action="#{userBean.doLogin}" class="btn btn-primary btn-lg btn-block">Anmelden
									<f:ajax execute="@form" render="@form loginMessages" />
								</button>
							</div>
<!-- 						</form> -->
					</div>
					<div class="modal-footer">
						<div class="col-md-12">
							<button jsf:id="cancleLogin2" jsf:action="#{userBean.dismissLogin}" class="btn" aria-hidden="true" data-dismiss="modal">
								Cancel
								<f:ajax execute="@this" render="@form"/>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</h:form>
</ui:composition>
</html>